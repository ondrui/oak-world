<template>
  <div class="map-container">
    <nav class="navigation">
      <MapMenu
        :menuItemName="showDayMarkers()"
        :selected="selectedDayMarker"
        @select="selectDayMarker"
      />
      <MapMenu
        :menuItemName="showIndicators()"
        :selected="selectedIndicator"
        @select="selectIndicator"
      />
    </nav>
    <div class="map-wrapper">
      <div class="map-layer" ref="layer">
        <MapCardCity
          :style="calcDinamicPos(item)"
          :class="['html-card', { hide: animationOn }]"
          v-for="(item, index) in finalDatasets"
          :key="`card-${item.name_en}-${index}`"
          :datasetItem="item"
          :indicator="selectedIndicator"
        />
        <svg
          @click="districtShow($event.target.id)"
          id="home"
          ref="svg"
          viewBox="-69 0 720 568"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <animate
            ref="animate"
            xmlns="http://www.w3.org/2000/svg"
            attributeName="viewBox"
            begin="indefinite"
            :values="`${selectedDistrict.from} ${selectedDistrict.to}`"
            repeatCount="1"
            dur="0.25s"
            fill="freeze"
          />
          <g>
            <path
              :ref="districts.gegharkunik.name"
              :data-name="districts.gegharkunik.name"
              :id="districts.gegharkunik.name"
              :class="{
                active: isArea(districts.gegharkunik.name),
                hover: !animationOn,
              }"
              d="M256.288 168.463C257.144 167.85 258.505 166.538 260.776 164.26C261.209 163.826 261.749 163.506 262.312 163.171C263.196 162.646 264.137 162.087 264.806 161.003C267.535 156.578 271.558 152.685 272.361 152.828C277.293 153.703 280.494 156.867 283.303 159.644C287.89 164.178 291.431 167.678 299.749 158.487C300.888 157.229 300.696 155.535 300.491 153.735C300.295 152.007 300.088 150.182 301.036 148.552C303.181 144.864 307.451 144.037 310.827 145.385C311.995 145.852 312.501 146.695 313.055 147.62C313.927 149.073 314.918 150.725 318.79 151.422C325.147 152.565 329.216 154.708 333.79 157.115L333.791 157.116C335.511 158.021 337.302 158.964 339.313 159.906C340.784 160.594 342.255 160.455 344.168 160.275C345.463 160.152 346.96 160.011 348.796 160.094C349.306 160.118 349.778 159.973 350.21 159.702C351.522 160.014 352.684 160.765 353.587 162.468C354.256 163.73 355.28 164.444 356.177 165.07C357.769 166.18 358.963 167.013 357.076 170.129C358.109 172.64 359.151 173.692 360.554 173.92C361.468 174.069 362.409 173.568 363.338 173.073C363.634 172.915 363.929 172.758 364.222 172.623C365.744 171.92 367.734 173.713 368.784 175.525C368.934 175.783 369.116 176.049 369.301 176.322C369.989 177.329 370.73 178.415 370.07 179.43C369.643 180.086 369.394 180.281 369.024 180.571C368.801 180.746 368.534 180.955 368.157 181.321C368.907 182.896 369.442 184.262 368.874 185.437C368.674 185.85 368.337 186.24 367.976 186.658C367.312 187.427 366.565 188.291 366.438 189.573C366.298 190.984 367.804 193.564 369.15 194.909C372.479 198.235 374.313 199.056 375.671 199.664C376.802 200.17 377.603 200.528 378.663 202.06C379.495 203.263 382.136 206.62 385.109 208.774C385.534 209.081 385.97 209.404 386.41 209.729C389.052 211.684 391.838 213.746 393.175 213.302C393.797 213.095 394.328 212.898 394.79 212.726C395.822 212.342 396.514 212.084 397.117 212.132C397.59 212.17 397.546 212.928 397.49 213.894C397.426 215.002 397.346 216.383 398.013 217.261C398.887 217.552 402.277 218.78 404.611 221.303C405.154 221.89 405.396 222.775 405.633 223.643C405.93 224.73 406.22 225.792 407.086 226.212C407.623 226.472 408.167 226.324 408.729 226.17C409.116 226.064 409.511 225.956 409.92 225.976C410.336 225.997 410.793 225.985 411.262 225.973C412.337 225.945 413.474 225.916 414.318 226.27C414.743 226.448 415.069 226.752 415.397 227.057C415.895 227.521 416.396 227.988 417.251 228.023C418.135 228.06 418.89 227.878 419.615 227.703C421.081 227.35 422.426 227.025 424.473 228.595C428.96 232.036 432.749 234.297 438.144 235.425C443.463 236.492 448.693 237.665 452.941 240.183C453.375 240.44 453.785 240.679 454.173 240.905C457.07 242.595 458.797 243.601 460.89 246.556C464.906 252.222 469.757 259.277 467.413 267.744C466.634 270.559 466.052 272.288 465.629 273.279C466.151 274.945 466.196 280.15 463.861 281.982C463.861 281.982 460.484 281.225 457.932 282.401C457.126 282.772 456.661 283.435 456.414 283.908C456.64 284.673 456.584 290.064 455.955 291.455C455.747 291.915 455.688 292.646 455.618 293.504C455.522 294.698 455.405 296.137 454.84 297.435C454.191 299.522 452.264 303.768 449.808 306.644C451.706 313.214 445.489 313.181 431.258 313.104C427.626 313.085 423.473 313.063 418.8 313.146C417.107 313.177 418.846 316.093 420.378 318.662C422.858 322.82 424.794 326.068 410.754 314.691C408.8 313.108 405.265 313.49 403.004 313.621C399.478 313.826 397.051 315.232 394.257 317.768C393.754 318.224 393.261 318.859 392.876 319.304C391.792 320.556 390.824 321.949 388.579 321.761C386.119 322.486 383.73 321.841 381.144 322.271C378.882 322.648 376.207 323.743 372.773 324.526C367.702 325.682 362.357 324.507 356.821 323.984C355.01 323.813 353.187 323.64 351.36 323.525C345.951 323.183 341.525 323.666 337.631 327.905C336.08 330.526 331.724 334.033 327.963 337.12C324.632 339.854 321.745 342.322 321.364 343.571C320.871 345.188 320.363 347.314 320.136 348.486L319.983 348.639C319.807 350.397 319.78 351.637 319.216 352.479C318.104 354.137 315.753 354.181 315.197 353.568C312.74 350.813 313.302 344.83 313.757 339.993L313.776 339.796C313.938 338.07 314.199 336.604 314.445 335.226C314.88 332.784 315.266 330.62 314.962 327.78C314.098 319.709 312.922 316.517 310.056 315.1C308.57 314.365 307.47 313.123 306.655 311.297C306.328 310.566 306.063 309.762 305.769 308.876C305.652 308.521 305.53 308.152 305.398 307.77C304.962 306.505 303.97 304.931 302.743 302.986C302.025 301.847 301.227 300.581 300.412 299.174C300.083 298.605 299.791 298.112 299.528 297.667C298.11 295.273 297.518 294.271 296.365 290.391C295.441 287.282 296.972 285.321 298.253 283.679C298.828 282.943 299.352 282.271 299.582 281.589C299.934 280.544 300.106 280.051 300.041 279.592C299.965 279.05 299.559 278.555 298.728 277.252C298.643 277.132 298.542 276.954 298.42 276.742C297.851 275.746 296.847 273.988 295.078 273.82C293.008 273.624 290.525 272.586 288.501 271.739C287.911 271.493 287.36 271.262 286.87 271.074C284.846 269.093 284.832 266.511 284.817 263.872C284.806 261.991 284.795 260.082 284.057 258.341C282.515 255.06 282.205 253.057 282.318 250.645C282.389 249.138 284.594 245.569 285.184 245.956C284.985 245.699 284.762 245.454 284.528 245.197C283.984 244.598 283.384 243.938 282.909 242.937C282.872 242.857 282.815 242.736 282.744 242.583C282.107 241.212 280.256 237.228 279.377 236.545C278.382 235.77 278.223 234.048 278.056 232.231C277.955 231.131 277.851 229.996 277.556 229.016C277.226 227.919 275.486 225.737 274.589 224.65C271.427 220.815 273.555 218.781 275.451 216.968C275.498 216.923 275.544 216.879 275.591 216.834C277.14 215.349 279.777 215.254 280.339 215.433C281.238 214.484 283.327 211.033 281.846 209.498C280.189 207.285 278.038 207.089 275.722 206.877C273.743 206.696 271.644 206.505 269.63 205.034C269.361 204.838 269.052 204.641 268.722 204.429C267.263 203.497 265.377 202.291 264.586 199.687C264.318 198.805 264.106 197.732 263.882 196.594C263.255 193.417 262.53 189.74 260.206 188.324C255.662 185.556 250.781 182.2 252.258 178.468C252.465 177.944 252.588 178.024 252.782 178.151C253.003 178.296 253.317 178.501 253.953 177.945C253.657 177.053 254.565 176.757 255.092 176.584C255.145 176.567 255.195 176.551 255.239 176.535C255.92 175.502 256.045 174.908 256.229 174.038C256.314 173.634 256.412 173.172 256.583 172.578C256.674 172.264 256.209 171.781 255.725 171.278C255.037 170.562 254.311 169.808 255.098 169.45C255.105 169.603 255.597 169.158 256.288 168.463Z"
              fill="#F1F8FF"
            />
            <path
              :ref="districts.shirak.name"
              :data-name="districts.shirak.name"
              :id="districts.shirak.name"
              :class="{
                active: isArea(districts.shirak.name),
                hover: !animationOn,
              }"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M103.795
          32.4761C103.224 40.1514 102.147 50.5937 106.62 57.4024C109.309 61.4956
          114.182 61.7731 117.688 64.707C118.78 65.6204 120.235 67.3035 121.281
          68.7773C121.909 69.6612 121.963 70.47 122.485 70.9919C122.6 71.1073
          123.445 71.7859 124.001 72.6371C124.928 74.0562 124.965 76.188 125.253
          76.7649C127.299 80.8617 132.544 81.0604 135.404 83.9227C138.403
          86.9243 137.485 90.044 135.335 91.9309C132.715 94.2296 129.988 94.6034
          128.22 98.0736C127.741 99.0132 127.716 100.481 127.173 101.549C126.837
          102.21 125.401 103.614 124.868 104.242C122.773 106.714 119.072 111.891
          115.141 111.829C114.057 111.812 113.252 111.282 112.295
          111.515C108.403 112.46 107.95 122.588 109.275 125.61C110.447 128.283
          114.965 129.361 117.313 130.668C118.865 131.531 120.115 132.607 121.74
          133.426C123.736 134.432 127.009 135.07 129.198 135.269C131.566 135.485
          133.923 134.724 135.758 135.267C140.442 136.653 142.032 150.541
          134.705 149.886C132.436 149.683 130.106 148.477 127.617
          149.387C123.562 150.867 122.545 155.964 122.593 159.746C122.657 164.7
          126.255 167.181 129.731 169.742C133.394 172.44 139.302 171.225 137.63
          177.202C136.729 180.424 133.226 183.623 133.022 186.752C133.252
          188.071 134.07 189.293 134.352 190.375C135.855 196.132 130.564 196.852
          126.856 197.616C125.054 197.987 122.934 197.378 121.625
          197.196C117.699 196.651 114.372 193.21 110.319 192.535C102.727 191.271
          97.352 204.417 89.4638 200.227C86.8937 198.862 86.7391 198.482 83.7359
          198.799C81.6252 199.022 79.6566 200.392 77.681 200.66C71.6965 201.604
          67.7737 197.455 62.3394 196.957C58.266 196.583 53.9506 198.468 51.1913
          201.582C48.6787 204.417 48.0972 207.731 44.6679 209.779C41.6202
          211.598 36.0401 211.435 34.3809 210.631C31.9486 209.45 31.1421 206.529
          28.8398 205.357C27.1629 204.503 24.0788 203.866 23.7999 201.45C23.4467
          198.389 27.8373 193.508 30.3845 192.126C31.3848 191.584 32.725 191.534
          33.704 191.131C34.7462 190.701 35.4202 189.295 36.2379 188.477C36.7458
          187.968 40.2649 190.629 41.056 189.06C41.368 188.442 36.7774 184.777
          39.5817 185.121C40.0163 185.174 40.7116 185.786 41.2523
          185.952C45.9993 187.414 41.3101 182.43 41.3101 181.015C41.3101 177.707
          42.7704 178.938 45.153 178.938C46.3061 178.938 47.618 176.017 47.92
          175.092C48.4533 173.458 49.7255 173.275 50.5125 172.134C51.2068
          171.127 51.4557 169.219 51.4557 167.092C51.4557 165.553 53.0696
          165.284 54.5296 164.13C55.58 163.3 56.7051 159.86 57.1545
          158.69C58.0391 156.388 60.5878 154.73 61.0721 152.09C62.0308 146.864
          59.1242 142.024 58.1419 136.989C57.2189 132.256 57.3029 127.228
          55.1896 122.779C53.4954 119.213 50.5265 116.028 49.5321
          112.152C49.2308 110.98 49.1152 109.615 48.7137 108.273C48.2508 106.724
          46.9521 104.531 46.8641 102.927C46.7628 101.084 48.5491 99.0375
          48.6404 97.3117C48.685 96.4594 48.0891 95.6787 47.9414 94.8224C47.8397
          94.2307 48.1583 93.6391 47.9808 93.0508C46.0454 86.6442 41.8637
          82.5223 36.3495 78.9946C33.065 76.8931 29.5812 76.07 26.2709
          74.1325L24.067 72.3716C20.6086 71.1257 14.7607 70.0785 12.7262
          66.8487C11.5922 65.0483 11.8497 62.642 11.3882 60.584C10.8169 58.0375
          8.95444 55.918 8.43587 53.2968C8.26129 52.4143 7.78397 49.19 8.11287
          48.414C9.70982 44.6405 16.7249 41.1209 20.1961 40.0269C24.046 38.8134
          28.0111 38.493 31.893 37.5114C36.7045 36.2946 36.632 42.5611 39.9415
          42.6348C42.7539 42.6975 45.1394 40.7235 47.6445 39.7994C51.062 38.5391
          53.1496 40.4467 55.963 42.257C57.1467 43.0182 58.8295 43.4001 60.1705
          44.1524C61.6897 45.005 62.8587 46.1813 63.9611 46.1308C67.6264 45.962
          68.4547 41.7218 71.3109 39.8893C75.6624 37.0978 82.4148 34.5425
          87.3781 32.987C88.68 32.5785 89.8475 31.9331 91.3344 31.7558C92.0776
          31.667 92.9059 32.0179 93.6897 32.0356C95.6453 32.0791 97.2673 30.2496
          99.0518 30.2603C99.3961 30.2625 103.761 32.3581 103.795 32.4761Z"
              fill="#E9F4FE"
            />
            <path
              :ref="districts.lori.name"
              :data-name="districts.lori.name"
              :id="districts.lori.name"
              :class="{
                active: isArea(districts.lori.name),
                hover: !animationOn,
              }"
              d="M248.809 24.908C245.928 24.8775 242.983 26.0097 240.713 26.8819C237.71 28.036 235.891 28.7351 236.975 25.6832C237.281 24.8195 237.895 22.0976 235.495 23.2861C232.786 24.6283 230.197 23.7372 227.438 22.7877C225.539 22.1343 223.561 21.4533 221.407 21.4533C217.449 21.4533 217.082 25.304 216.774 28.5392C216.522 31.177 216.31 33.4056 214.222 32.8042C213.609 32.6273 213.855 31.3295 214.122 29.9215C214.484 28.0137 214.884 25.9036 213.236 26.1064C211.971 27.2175 211.186 28.7199 210.489 30.0549C209.283 32.3621 208.339 34.1693 205.628 32.5922C202.703 30.8905 203.838 29.0128 204.961 27.1535C205.962 25.4986 206.953 23.8583 205.065 22.3697C203.247 20.9361 200.834 22.3922 199.923 24.2732C199.669 27.2152 195.946 33.8971 192.104 32.9453C191.632 32.8285 191.107 32.7903 190.531 32.7486C189.103 32.6449 187.37 32.5191 185.412 31.1122C184.789 30.7517 183.533 29.6322 182.004 28.2691C178 24.6993 172.123 19.4588 170.83 21.8057C170.263 22.8364 169.869 23.7531 169.538 24.5243C168.827 26.1796 168.405 27.1639 167.167 27.1639C166.32 27.1639 165.23 26.9524 164.06 26.7252C162.703 26.4615 161.236 26.1768 159.912 26.1768C158.385 26.1768 157.395 25.1553 156.373 24.1014C155.369 23.0649 154.334 21.997 152.727 21.8385C148.241 22.9842 145.332 20.8263 143.388 19.3013C143.078 19.0578 142.808 18.8323 142.573 18.6364C141.282 17.5605 141.059 17.3748 141.189 19.9891C141.195 20.112 141.201 20.2351 141.207 20.3581C141.482 25.8098 141.761 31.3484 133.142 28.1452C131.709 27.7642 130.717 28.389 129.869 28.9233C128.924 29.5187 128.157 30.0017 127.157 28.8559C124.619 25.9502 122.512 27.2747 120.481 28.5519C119.818 28.9683 119.164 29.3797 118.505 29.6377C117.388 30.0755 116.208 29.9884 115.227 29.916C114.163 29.8375 113.331 29.7761 113.063 30.4192C111.464 34.2517 107.403 35.3544 103.617 34.8253C103.065 42.1789 102.589 51.2664 106.62 57.4027C108.219 59.8368 110.59 60.9215 112.987 62.018C114.621 62.7653 116.267 63.5181 117.688 64.7073C118.78 65.6207 120.235 67.3038 121.281 68.7775C121.583 69.2024 121.752 69.6098 121.904 69.9764C122.069 70.3726 122.214 70.7211 122.484 70.9922C122.503 71.0109 122.541 71.0442 122.593 71.0907C122.866 71.3316 123.535 71.9239 124.001 72.6373C124.609 73.5689 124.834 74.8076 124.999 75.7119C125.085 76.1852 125.154 76.5669 125.253 76.7651C126.456 79.1745 128.766 80.2356 131.046 81.2832C132.643 82.0169 134.225 82.744 135.403 83.923C138.402 86.9246 137.485 90.0443 135.335 91.9312C134.415 92.7377 133.483 93.3072 132.584 93.8567C130.919 94.8733 129.368 95.8212 128.22 98.0739C127.988 98.5293 127.862 99.1088 127.733 99.7068C127.595 100.343 127.452 100.999 127.173 101.55C126.939 102.009 126.174 102.828 125.55 103.495C125.277 103.788 125.031 104.051 124.868 104.243C124.619 104.536 124.348 104.868 124.056 105.224C121.891 107.87 118.605 111.884 115.141 111.829C114.685 111.822 114.279 111.724 113.889 111.63C113.353 111.501 112.85 111.38 112.295 111.515C108.403 112.46 107.949 122.588 109.275 125.611C110.124 127.547 112.728 128.646 114.992 129.601C115.854 129.965 116.666 130.308 117.313 130.668C118.01 131.056 118.647 131.487 119.284 131.918L119.284 131.918C120.064 132.446 120.845 132.975 121.74 133.426C123.736 134.432 127.009 135.07 129.198 135.27C130.234 135.364 131.267 135.271 132.256 135.183C133.528 135.069 134.725 134.962 135.758 135.267C135.863 135.298 135.968 135.336 136.07 135.38C139.8 135.313 144.631 135.732 152.171 138.161C156.332 139.565 159.52 139.568 162.49 139.57C166.553 139.574 170.206 139.577 175.378 143.165C176.78 144.1 178.192 144.952 179.591 145.795C182.232 147.388 184.829 148.954 187.234 151.01C187.639 150.882 188.04 150.764 188.468 150.648C190.693 149.733 193.771 149.288 196.855 148.843C198.16 148.654 199.466 148.466 200.708 148.241C205.205 147.429 209.349 147.192 212.915 149.784C213.249 150.027 213.575 150.161 213.974 150.135L214.365 150.109C216.215 149.985 218.221 149.85 220.316 149.969C220.318 149.968 220.321 149.968 220.324 149.967C220.332 149.968 220.341 149.97 220.35 149.971C223.33 150.143 226.491 150.828 229.643 152.784C233.636 155.262 240.588 157.586 243.298 156.867L246.252 156.082C246.288 156.193 246.34 156.305 246.406 156.421C247.229 155.912 248.019 155.176 248.796 154.16C253.403 148.14 253.345 146.816 245.606 142.011C241.005 138.268 243.554 134.949 246.286 131.391C247.758 129.474 249.284 127.489 249.773 125.33C252.434 119.536 257.302 118.704 260.427 118.17C262.466 117.821 263.763 117.6 263.216 116.207C263.12 111.149 265.011 110.3 266.948 109.431C268.424 108.769 269.926 108.095 270.595 105.538C272.307 100.286 272.794 94.0048 270.683 89.1346C269.43 86.2424 264.555 81.0268 259.201 81.0268C250.447 81.0268 252.273 76.0428 258.143 72.6817C263.565 70.7039 267.015 70.4454 269.613 70.2507C273.063 69.9923 275.012 69.8463 278.079 65.94C280.286 63.1301 279.347 55.9991 276.318 53.602C272.337 50.0652 268.272 47.5907 264.936 45.5602C261.044 43.191 258.144 41.4261 257.53 39.2834C258.935 37.4237 260.29 36.1066 262.206 35.0516C263.085 34.5684 264.082 34.14 265.058 33.7202C266.212 33.2243 267.339 32.7403 268.209 32.1919C279.797 24.8932 254.708 24.9065 249.527 24.9093C249.207 24.9095 248.964 24.9096 248.809 24.908Z"
              fill="#F1F8FF"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M192.065 259.473C191.71 262.631 190.47 264.976 187.662 264.111C181.707 262.276 181.633 267.307 183.251 268.619C184.568 270.43 185.603 271.651 186.013 273.226C186.84 276.399 186.965 278.914 186.743 280.916C186.141 286.346 194.412 291.743 196.833 291.576C201.252 291.271 207.016 299.816 213.011 295.877C218.069 292.555 223.659 287.939 218.701 284.233C213.365 280.245 218.544 274.832 216.317 271.17C214.867 268.786 216.038 260.286 212.812 261.236C206.447 263.109 211.678 260.636 211.159 258.848C209.426 252.876 202.799 263.948 201.727 259.435C200.891 255.917 196.497 260.646 192.065 259.473Z"
              fill="#F1F8FF"
            />
            <path
              :ref="districts.armavir.name"
              :data-name="districts.armavir.name"
              :id="districts.armavir.name"
              :class="{
                active: isArea(districts.armavir.name),
                hover: !animationOn,
              }"
              d="M45.6632 260.534C45.5852 259.771 46.8625 258.804 47.562 258.313L47.6241 258.309C55.6785 258.762 57.4935 258.125 62.3429 253.05C65.7486 249.642 70.7354 248.352 73.8472 253.775C75.6473 257.916 78.0117 257.717 80.9196 257.472C83.6346 257.243 86.8235 256.974 90.4694 260.161C93.0791 261.431 94.9016 262.833 96.5466 264.097C99.4209 266.307 101.753 268.1 106.795 268.051C114.887 267.348 119.217 268.48 122.272 269.278C123.776 269.671 124.971 269.983 126.154 269.957C130.366 271.166 137.589 271.991 135.296 265.019C131.265 256.188 139.588 255.41 139.588 257.883C140.908 265.578 143.713 263.449 147.167 260.826C149.529 259.032 152.196 257.007 154.899 257.737C161.276 259.064 165.302 261.511 168.825 263.651C173.059 266.224 176.566 268.354 182.55 267.57C182.707 268.003 182.949 268.375 183.25 268.619C183.445 268.887 183.634 269.143 183.816 269.388C184.86 270.8 185.663 271.885 186.012 273.227C186.284 274.271 186.481 275.244 186.613 276.152C185.946 278.527 183.586 280.456 181.068 282.514L181.068 282.515C180.009 283.381 178.923 284.269 177.922 285.223C174.918 288.088 171.154 287.435 167.539 286.806C165.332 286.423 163.18 286.049 161.289 286.491C156.443 288.919 158.738 291.196 162.107 294.539C166.018 298.418 171.377 303.735 168.699 312.392C167.641 311.975 166.841 311.34 166.06 310.719C164.56 309.528 163.129 308.39 160.066 308.958C158.856 308.956 158.077 308.411 157.22 307.811C156.251 307.134 155.18 306.385 153.271 306.266C153.174 306.26 153.073 306.254 152.969 306.247C150.61 306.097 146.329 305.823 144.795 307.371C144.001 308.764 142.936 309.372 140.288 308.5C138.461 308.596 137.885 309.966 137.429 311.051C137.139 311.74 136.898 312.315 136.414 312.373C135.063 312.535 134.242 311.929 133.489 311.373C132.652 310.756 131.899 310.199 130.594 310.821C129.239 311.174 128.331 310.79 127.402 310.396C126.286 309.924 125.139 309.438 123.148 310.2C117.692 309.574 115.951 310.363 114.536 311.004C113.262 311.581 112.252 312.039 109.033 311.235C106.753 310.356 105.183 311.021 103.369 311.79C102.967 311.961 102.552 312.136 102.115 312.301C101.83 312.409 101.567 312.524 101.32 312.632C100.217 313.113 99.4336 313.455 98.4099 312.408L97.1555 311.124C95.7127 310.245 93.9093 310.589 92.3924 310.879C91.2429 311.099 90.2579 311.287 89.7191 310.888C89.5881 310.791 89.4426 310.659 89.2762 310.509C88.4855 309.797 87.2245 308.66 84.8262 308.744C82.9667 308.81 81.8333 306.949 81.739 306.795C81.7355 306.789 81.7335 306.785 81.7328 306.785C80.6145 305.202 79.1184 305.166 77.8473 305.135C76.585 305.104 75.5446 305.079 75.3166 303.55C75.3127 303.524 75.309 303.498 75.3055 303.474C75.3009 303.442 75.2966 303.412 75.2925 303.383C75.2128 302.823 75.2044 302.764 74.6548 302.32C72.9779 300.965 71.2469 300.326 69.479 300.149C67.2792 299.888 65.318 299.316 63.963 297.955C63.2673 297.255 63.1336 297.227 62.0725 297.201C61.2213 297.18 60.3505 297.246 59.4675 297.312H59.467C56.5041 297.536 53.4042 297.769 50.4515 294.779C48.2037 293.172 46.7066 291.96 45.6514 290.853C43.4257 288.519 42.1691 284.622 41.7989 281.448C41.5518 279.327 41.7559 277.047 43.1878 275.559C43.9285 274.79 45.2124 274.193 46.2315 273.911C47.0903 273.673 48.2829 273.639 49.9285 274.455C52.4808 275.385 52.1764 274.963 51.3336 273.792C50.6144 272.794 49.5034 271.251 49.4405 269.54C49.4235 269.073 49.3779 268.714 49.1057 268.323L48.305 267.171C48.0823 266.857 47.8287 266.736 47.5902 266.622C47.3795 266.521 47.1805 266.426 47.0251 266.208C46.7683 265.848 46.6684 265.224 46.563 264.565C46.5143 264.26 46.4644 263.948 46.3972 263.651L45.6632 260.534Z"
              fill="#F1F8FF"
            />
            <path
              :ref="districts.aragatsotn.name"
              :data-name="districts.aragatsotn.name"
              :id="districts.aragatsotn.name"
              :class="{
                active: isArea(districts.aragatsotn.name),
                hover: !animationOn,
              }"
              d="M152.171 138.161C144.631 135.732 139.8 135.313 136.07 135.38C140.509 137.273 141.867 150.527 134.705 149.886C133.991 149.822 133.27 149.659 132.54 149.493C132.373 149.455 132.204 149.417 132.036 149.38L132.004 149.376C131.974 149.372 131.943 149.367 131.912 149.363C131.893 149.357 131.875 149.351 131.857 149.346C131.841 149.341 131.826 149.336 131.81 149.331C130.453 149.044 129.062 148.859 127.616 149.387C123.562 150.868 122.545 155.965 122.593 159.747C122.654 164.54 126.026 167.018 129.393 169.493C129.506 169.576 129.619 169.659 129.731 169.742C130.921 170.618 132.347 171.082 133.673 171.513C136.432 172.409 138.759 173.166 137.63 177.202C137.228 178.638 136.31 180.07 135.397 181.492C134.262 183.262 133.135 185.017 133.022 186.752C133.153 187.507 133.477 188.23 133.784 188.913C134.013 189.424 134.231 189.912 134.352 190.375C135.774 195.824 131.11 196.761 127.464 197.493L127.462 197.493C127.256 197.535 127.054 197.575 126.856 197.616C125.469 197.902 123.894 197.607 122.645 197.373C122.271 197.303 121.926 197.238 121.625 197.196C119.643 196.921 117.815 195.909 115.969 194.886C115.419 194.582 114.869 194.277 114.312 193.991C113.888 193.791 113.468 193.589 113.052 193.387C112.169 193.001 111.264 192.693 110.319 192.536C106.861 191.96 103.862 194.374 100.877 196.777C97.3087 199.651 93.7589 202.509 89.4637 200.227C89.1284 200.049 88.8342 199.888 88.5695 199.742L88.5685 199.742C86.8047 198.774 86.3467 198.523 83.7359 198.799C82.6351 198.916 81.573 199.344 80.5284 199.765L80.5281 199.765C79.5698 200.151 78.6262 200.532 77.681 200.66C74.1998 201.209 71.4162 200.035 68.6269 198.859C66.6212 198.013 64.6125 197.165 62.3394 196.957C58.266 196.583 53.9506 198.468 51.1913 201.582C50.2336 202.663 49.5565 203.813 48.8953 204.936C47.8217 206.759 46.7901 208.512 44.6679 209.779C41.9826 211.382 37.3312 211.446 35.1281 210.888C35.2847 211.423 35.6435 213.592 35.5632 213.959C34.706 215.629 34.897 217.159 35.0926 218.726C35.2763 220.198 35.4641 221.702 34.7916 223.386C30.0988 233.121 32.1261 235.102 35.0271 237.936C35.7983 238.689 36.6313 239.503 37.4161 240.539C38.1743 241.718 38.2317 243.032 38.2912 244.394C38.4204 247.353 38.5596 250.539 45.9085 253.057C47.1168 253.275 47.6929 254.088 46.8362 256.833C46.7195 257.208 47.0167 257.751 47.3776 258.323L47.6244 258.309C55.6788 258.762 57.4937 258.125 62.3432 253.05C65.7489 249.641 70.7357 248.352 73.8475 253.774C75.6476 257.916 78.0119 257.716 80.9199 257.471C83.6349 257.243 86.8237 256.974 90.4697 260.161C93.0793 261.431 94.9019 262.832 96.5468 264.097C99.4211 266.307 101.753 268.1 106.795 268.051C114.887 267.348 119.217 268.479 122.273 269.278C123.776 269.671 124.971 269.983 126.154 269.956C130.366 271.166 137.589 271.991 135.296 265.019C131.265 256.188 139.588 255.41 139.588 257.883C140.908 265.578 143.713 263.449 147.167 260.826C149.529 259.032 152.196 257.007 154.9 257.737C161.276 259.064 165.303 261.511 168.826 263.651C173.06 266.224 176.566 268.354 182.55 267.57C181.863 265.674 182.814 262.617 187.661 264.111C190.469 264.976 191.71 262.631 192.065 259.473C192.297 259.535 192.529 259.58 192.76 259.611C193.501 254.228 192.198 246.62 188.414 248.002C180.352 249.546 173.315 243.285 182.431 241.738C186.913 241.059 188.625 237.714 190.442 234.164C191.05 232.976 191.67 231.766 192.409 230.624C196.165 224.666 198.837 224.051 200.679 223.628C202.952 223.105 203.961 222.873 204.183 213.239C204.421 209.498 205.318 206.347 206.185 203.305C206.944 200.639 207.68 198.057 207.927 195.236C207.941 189.812 211.355 186.898 213.768 184.838C216.41 182.583 217.854 181.351 212.327 178.969C208.771 175.722 207.406 175.676 202.976 175.524C202.391 175.504 201.753 175.482 201.049 175.451C198.623 175.416 196.558 171.957 194.894 169.169C194.034 167.729 193.281 166.467 192.641 165.951C188.426 162.553 188.882 160.327 189.395 157.826C189.801 155.847 190.242 153.697 188.433 150.658C188.018 150.77 187.628 150.886 187.234 151.01C184.829 148.954 182.233 147.388 179.591 145.795L179.59 145.795L179.589 145.794C178.191 144.951 176.78 144.1 175.378 143.165C170.206 139.577 166.553 139.574 162.49 139.57C159.52 139.568 156.332 139.565 152.171 138.161Z"
              fill="#E2F1FF"
            />
            <path
              :ref="districts.tavush.name"
              :data-name="districts.tavush.name"
              :id="districts.tavush.name"
              :class="{
                active: isArea(districts.tavush.name),
                hover: !animationOn,
              }"
              d="M259.634 23.4085C261.035 23.8272 262.22 24.1813 262.578 24.6913C263.442 24.8739 264.674 25.3062 265.797 25.9247C270.881 26.8682 273.774 28.687 268.21 32.1917C267.339 32.7401 266.213 33.2241 265.059 33.7201C264.082 34.1398 263.085 34.5682 262.207 35.0514C260.29 36.1064 258.936 37.4235 257.531 39.2832C258.145 41.426 261.044 43.1908 264.937 45.56C268.273 47.5905 272.338 50.065 276.319 53.6018C279.348 55.9989 280.287 63.1299 278.08 65.9398C275.012 69.8461 273.063 69.9921 269.614 70.2505C267.015 70.4452 263.565 70.7037 258.144 72.6815C252.274 76.0426 250.447 81.0267 259.202 81.0267C264.556 81.0267 269.43 86.2422 270.684 89.1344C272.795 94.0046 272.307 100.285 270.595 105.538C269.927 108.095 268.425 108.769 266.949 109.431C265.012 110.3 263.12 111.148 263.217 116.207C263.763 117.599 262.467 117.821 260.427 118.17C257.303 118.704 252.434 119.536 249.773 125.329C249.284 127.488 247.759 129.474 246.287 131.391C243.555 134.949 241.006 138.268 245.607 142.011C253.345 146.816 253.404 148.14 248.797 154.16C247.931 155.292 247.049 156.076 246.122 156.586C246.231 157.753 247.749 159.307 251.544 162.582C253.567 164.327 254.127 166.245 254.494 167.503C255.113 169.622 255.184 169.868 260.776 164.26C261.209 163.826 261.749 163.506 262.311 163.171C263.196 162.646 264.137 162.087 264.806 161.003C267.535 156.578 271.558 152.686 272.361 152.828C277.293 153.703 280.494 156.867 283.303 159.644C287.89 164.178 291.431 167.678 299.749 158.487C300.888 157.229 300.695 155.535 300.491 153.735C300.295 152.007 300.088 150.182 301.036 148.552C303.181 144.864 307.451 144.037 310.826 145.385C311.995 145.852 312.501 146.695 313.055 147.62C313.927 149.073 314.917 150.725 318.79 151.422C325.147 152.566 329.216 154.708 333.79 157.116C335.51 158.021 337.302 158.964 339.313 159.906C340.784 160.594 342.255 160.455 344.168 160.275C345.463 160.152 346.96 160.011 348.796 160.094C352.004 160.24 353.705 153.763 353.229 150.91C352.964 149.323 353.998 149.743 355.09 150.187C355.825 150.485 356.586 150.795 356.995 150.51C357.692 150.026 357.528 148.852 357.351 147.587C357.177 146.34 356.991 145.006 357.604 144.156C359.222 141.912 363.409 140.687 370.352 138.655C371.406 138.347 372.523 138.02 373.704 137.668C375.015 136.078 376.755 135.736 378.515 135.391C379.877 135.123 381.251 134.853 382.446 133.999C385.862 131.557 387.605 127.502 389.406 123.314C390.147 121.592 390.897 119.848 391.777 118.183C394.636 112.776 393.808 108.234 391.258 108.032C389.689 107.909 382.032 106.192 378.216 100.765C377.23 97.602 374.688 98.4886 372.816 99.1414C371.831 99.4849 371.031 99.7636 370.742 99.3535C369.307 97.3143 368.981 95.7543 368.98 92.9321C368.98 91.8764 367.57 88.233 366.089 88.2046C365.34 88.1903 364.82 88.8005 364.302 89.4089C363.602 90.2305 362.905 91.0487 361.648 90.3212C359.324 88.9769 358.608 85.3165 359.18 82.8416C359.625 80.92 360.894 80.148 361.891 79.5416C362.688 79.0569 363.311 78.678 363.199 77.9025C362.755 74.8241 361.542 74.1813 358.54 74.983C358.234 75.0646 357.846 75.0173 357.437 74.9672C356.931 74.9054 356.391 74.8393 355.928 75.0077C355.592 75.13 355.583 75.8036 355.575 76.4916C355.566 77.1392 355.558 77.7996 355.276 78.0248C354.89 78.3333 354.199 78.1576 353.533 77.9882C352.909 77.8297 352.308 77.6767 351.999 77.9316C348.418 80.8846 347.302 79.6341 346.717 78.9785L346.701 78.9608C346.088 78.2741 344.987 78.1737 343.831 78.0682C341.88 77.8903 339.773 77.6981 339.581 74.6564C339.516 73.6313 337.184 70.7756 336.408 70.2816C335.261 69.5025 334.564 70.2938 333.615 71.3719C332.932 72.1485 332.118 73.0738 330.909 73.6685C330.495 73.8723 330.113 74.1198 329.729 74.3682C328.8 74.9688 327.864 75.5739 326.468 75.5739C325.635 75.5739 325.397 74.8455 325.072 73.8552C324.482 72.0537 323.607 69.3856 318.36 68.659L314.814 66.107L313.596 58.5308L312.909 57.6259C312.911 57.6242 312.91 57.6233 312.907 57.6233L312.909 57.6259C312.893 57.6389 312.728 57.6995 312.467 57.7952C311.331 58.2119 308.378 59.2951 308.042 60.0226L306.562 60.9401C304.546 62.1886 302.223 60.0794 301.908 57.1297L301.31 51.5204C301.273 51.1787 302.876 51.6283 304.783 52.1629C307.095 52.8111 309.853 53.5845 310.674 53.2234C313.311 52.0636 315.121 51.7889 316.437 51.5892C318.587 51.2627 319.417 51.1367 320.38 47.6742C322.146 41.3208 318.978 40.5137 316.08 39.7754C314.523 39.3786 313.043 39.0017 312.449 37.7949C312.372 37.6392 312.273 37.4289 312.156 37.1784C311.318 35.3949 309.525 31.576 307.942 30.9438C306.843 30.5048 306.132 31.1807 305.197 32.0686C303.793 33.4021 301.885 35.2141 297.404 34.4471C295.051 34.0442 293.682 28.4888 294.755 26.7898C296.897 23.3969 297.973 22.0618 297.757 20.9868C297.533 19.8732 295.922 19.0388 292.674 16.4851C292.195 16.1092 292.011 14.9787 291.807 13.7239C291.653 12.7763 291.488 11.7577 291.175 10.9396C290.466 9.08468 289.749 8.7898 288.988 9.1116C287.247 9.84859 285.148 11.1524 283.527 12.1591C282.514 12.7879 281.688 13.3008 281.253 13.4875C276.531 15.5119 271.779 16.7984 268.023 13.7429C262.184 8.99313 259.131 8.63263 255.159 8.16365C254.763 8.11689 254.358 8.06906 253.94 8.01569C250.62 7.59178 251.624 15.8614 253.82 20.1462C254.743 21.9465 257.451 22.7559 259.634 23.4085Z"
              fill="#E9F4FE"
            />
            <path
              :ref="districts.kotayk.name"
              :data-name="districts.kotayk.name"
              :id="districts.kotayk.name"
              :class="{
                active: isArea(districts.kotayk.name),
                hover: !animationOn,
              }"
              d="M246.407 156.42C246.341 156.305 246.289 156.193 246.253 156.082L243.299 156.866C240.589 157.586 233.637 155.262 229.643 152.784C224.264 149.445 218.856 149.808 214.366 150.109L213.975 150.135C213.576 150.161 213.25 150.027 212.916 149.784C209.35 147.192 205.205 147.429 200.709 148.241C199.467 148.466 198.161 148.654 196.856 148.843C193.757 149.29 190.664 149.737 188.436 150.662C190.242 153.699 189.801 155.848 189.396 157.826C188.973 159.888 188.588 161.764 190.831 164.265C191.075 164.52 191.329 164.776 191.588 165.037C191.902 165.332 192.251 165.637 192.641 165.951C193.094 166.316 193.602 167.052 194.165 167.961C194.446 168.365 194.711 168.797 194.951 169.263C196.605 172.034 198.651 175.417 201.05 175.451C201.754 175.482 202.392 175.504 202.976 175.524C207.407 175.676 208.772 175.722 212.328 178.969C217.854 181.351 216.411 182.583 213.769 184.838C211.356 186.898 207.942 189.811 207.927 195.236C207.68 198.057 206.945 200.639 206.186 203.304C205.319 206.347 204.422 209.498 204.184 213.239C203.961 222.872 202.953 223.104 200.679 223.627C198.838 224.051 196.166 224.666 192.409 230.624C191.671 231.766 191.051 232.976 190.443 234.164C188.626 237.714 186.914 241.059 182.431 241.738C173.316 243.285 180.353 249.546 188.415 248.001C192.207 246.617 193.508 254.262 192.756 259.647C194.529 259.896 196.283 259.278 197.772 258.753C199.759 258.053 201.272 257.52 201.728 259.438C202.222 261.518 203.897 260.287 205.729 258.939C207.87 257.364 210.225 255.632 211.159 258.85C211.365 259.558 210.67 260.372 210.15 260.983C209.355 261.915 208.966 262.371 212.812 261.238C214.823 260.646 215.126 263.723 215.42 266.703C215.597 268.506 215.771 270.274 216.318 271.172C217.228 272.669 216.901 274.458 216.561 276.322C216.068 279.021 215.547 281.878 218.702 284.236C221.277 286.161 221.006 288.331 219.468 290.449C222.117 291.701 223.287 293.843 224.545 296.147L224.545 296.148C224.874 296.75 225.208 297.362 225.577 297.973C227.723 301.53 231.978 302.05 234.309 300.969C239.561 298.535 245.551 298.798 250.496 299.016C256.137 299.264 260.418 299.453 260.693 295.508C260.888 292.718 262.203 292.641 265.675 292.438C268.496 292.273 272.74 292.025 278.962 290.171C284.284 288.585 284.834 287.36 285.518 285.834C286.384 283.902 287.466 281.488 298.729 277.254L298.729 277.253L298.728 277.252C298.643 277.132 298.542 276.954 298.421 276.742C297.851 275.746 296.847 273.988 295.079 273.82C293.009 273.624 290.525 272.586 288.501 271.739C287.911 271.493 287.36 271.262 286.87 271.074C284.847 269.093 284.832 266.511 284.817 263.872C284.806 261.992 284.795 260.082 284.057 258.341C282.515 255.06 282.205 253.057 282.318 250.645C282.389 249.138 284.595 245.569 285.185 245.956C284.986 245.7 284.763 245.454 284.529 245.197L284.529 245.197C283.984 244.598 283.384 243.938 282.91 242.937C282.872 242.857 282.816 242.737 282.744 242.583L282.744 242.583C282.107 241.212 280.257 237.228 279.377 236.545C278.382 235.77 278.224 234.048 278.056 232.231L278.056 232.23C277.955 231.131 277.851 229.996 277.556 229.016C277.226 227.919 275.486 225.737 274.59 224.65C271.427 220.815 273.555 218.781 275.451 216.968L275.457 216.962L275.591 216.834C277.14 215.349 279.777 215.254 280.34 215.434C281.239 214.484 283.327 211.033 281.846 209.498C280.189 207.285 278.038 207.089 275.722 206.877C273.744 206.697 271.645 206.505 269.63 205.034C269.361 204.838 269.053 204.641 268.722 204.429C267.263 203.497 265.377 202.291 264.586 199.688C264.318 198.805 264.106 197.732 263.882 196.594C263.256 193.418 262.53 189.74 260.206 188.324C255.663 185.556 250.781 182.2 252.258 178.468C252.466 177.944 252.588 178.024 252.782 178.151C253.003 178.296 253.317 178.501 253.953 177.945C253.657 177.054 254.565 176.757 255.092 176.585L255.094 176.584C255.147 176.567 255.196 176.551 255.239 176.535C255.92 175.502 256.045 174.909 256.229 174.038C256.314 173.635 256.412 173.172 256.584 172.578C256.674 172.264 256.209 171.781 255.725 171.278C255.037 170.562 254.311 169.808 255.099 169.451C255.105 169.603 255.597 169.158 256.288 168.463C256.288 168.463 256.288 168.463 256.288 168.463C255.036 169.359 254.862 168.761 254.494 167.503C254.127 166.245 253.567 164.327 251.544 162.582C247.749 159.307 246.232 157.753 246.123 156.586C246.218 156.534 246.312 156.479 246.407 156.42Z"
              fill="#D6EBFF"
            />
            <path
              :ref="districts.ararat.name"
              :data-name="districts.ararat.name"
              :id="districts.ararat.name"
              :class="{
                active: isArea(districts.ararat.name),
                hover: !animationOn,
              }"
              d="M315.284 353.651C315.252 353.625 315.223 353.597 315.197 353.568C312.739 350.813 313.302 344.83 313.757 339.994L313.775 339.796C313.937 338.071 314.199 336.604 314.444 335.227C314.88 332.785 315.265 330.62 314.962 327.781C314.098 319.71 312.922 316.517 310.056 315.101C308.569 314.366 307.469 313.123 306.655 311.297C306.328 310.567 306.062 309.763 305.769 308.876C305.701 308.672 305.632 308.463 305.561 308.249C305.508 308.092 305.454 307.932 305.398 307.77C305.137 307.013 304.677 306.147 304.087 305.156C303.577 304.363 303.078 303.56 302.596 302.754C301.917 301.675 301.171 300.486 300.412 299.174C300.084 298.607 299.792 298.115 299.529 297.671L299.528 297.668C298.11 295.273 297.517 294.272 296.365 290.391C295.441 287.282 296.972 285.321 298.253 283.68L298.253 283.68C298.828 282.943 299.352 282.271 299.581 281.589L299.611 281.501C299.943 280.516 300.104 280.038 300.041 279.592C299.982 279.172 299.725 278.781 299.226 278.02C299.081 277.799 298.915 277.546 298.728 277.254L298.728 277.254C287.466 281.488 286.384 283.902 285.518 285.834C284.834 287.36 284.284 288.586 278.962 290.171C272.74 292.025 268.496 292.273 265.675 292.438C262.203 292.641 260.887 292.718 260.693 295.509C260.418 299.453 256.136 299.264 250.496 299.016H250.495C245.55 298.799 239.56 298.535 234.309 300.97C231.978 302.05 227.722 301.531 225.576 297.973C225.208 297.363 224.874 296.751 224.546 296.15L224.545 296.149L224.544 296.147C223.286 293.843 222.117 291.701 219.468 290.449C219.513 290.387 219.556 290.326 219.599 290.264C219.62 290.233 219.642 290.202 219.663 290.171C219.682 290.141 219.702 290.112 219.721 290.082L219.673 290.11C218.28 292.174 215.577 294.192 213.011 295.878C209.34 298.289 205.756 296.021 202.515 293.97C200.462 292.671 198.546 291.458 196.833 291.577C194.412 291.744 186.14 286.346 186.743 280.916C186.892 279.573 186.884 278 186.614 276.152C185.946 278.527 183.586 280.456 181.069 282.515L181.068 282.515C180.01 283.381 178.923 284.269 177.923 285.223C174.918 288.088 171.155 287.435 167.539 286.807C165.332 286.423 163.18 286.05 161.29 286.491C156.444 288.919 158.739 291.196 162.108 294.539C166.019 298.419 171.377 303.735 168.7 312.393C168.482 312.307 168.276 312.212 168.078 312.11C168.054 312.169 168.029 312.226 168.004 312.283C167.985 312.325 167.966 312.366 167.947 312.407C168.459 313.103 168.86 313.963 169.286 314.874C170.613 317.717 172.174 321.06 178.053 321.474C179.993 322.228 180.672 323.532 181.286 324.711C182.024 326.129 182.666 327.364 185.298 327.233C186.563 327.17 187.018 327.622 187.672 328.27C188.6 329.191 189.928 330.509 194.538 331.313L199.876 338.265C200.397 339.567 201.332 341.505 204.197 342.435C206.307 343.121 206.918 344.742 207.553 346.429C208.077 347.821 208.618 349.257 210.033 350.248C211.451 351.536 211.562 353.907 211.661 356.014C211.72 357.28 211.775 358.451 212.106 359.234C212.791 359.945 213.326 361.494 213.905 363.17C214.876 365.98 215.97 369.147 218.099 369.318C219.966 369.198 220.252 369.984 220.549 370.798C220.915 371.806 221.298 372.858 224.715 372.288C226.528 371.985 227.279 372.738 227.913 373.372C228.418 373.878 228.847 374.308 229.68 374.067C230.849 373.728 231.451 374.671 232.159 375.781C232.562 376.412 232.998 377.096 233.592 377.63C237.808 377.087 237.79 377.376 237.693 378.941C237.64 379.788 237.564 381.011 238.126 382.679C238.301 383.199 238.917 383.828 239.571 384.495C240.293 385.233 241.06 386.017 241.328 386.751C241.629 387.579 242.182 388.341 242.715 389.075C243.365 389.969 243.986 390.824 244.088 391.712C244.162 392.353 243.815 393.043 243.498 393.675C243.172 394.321 242.878 394.907 243.098 395.315L244.881 398.634C249.917 397.364 254.532 395.618 258.516 394.111L258.518 394.111C265.332 391.533 270.302 389.653 272.379 392.045C276.807 397.144 279.935 394.726 282.802 392.509L282.889 392.442C284.99 390.819 286.538 390.615 288.109 390.409C290.955 390.035 293.873 389.652 300.278 380.805C301.235 379.482 302.775 378.444 305.014 378.233C305.928 374.604 306.921 371.834 307.959 369.67C307.844 369.658 307.727 369.647 307.609 369.636C307.704 369.138 307.794 368.655 307.882 368.186C309.211 361.089 309.95 357.145 315.284 353.651Z"
              fill="#E9F4FE"
            />
            <path
              :ref="districts['vayots dzor'].name"
              :data-name="districts['vayots dzor'].name"
              :id="districts['vayots dzor'].name"
              :class="{
                active: isArea(districts['vayots dzor'].name),
                hover: !animationOn,
              }"
              d="M430.715 320.955C432.802 321.37 434.951 321.92 436.134
          323.337C436.97 324.338 439.93 328.331 439.93 329.672C439.93 331.401
          438.426 332.037 436.554 332.037C437.01 332.899 437.543 333.789 438.096
          334.714C440.063 338.003 442.293 341.732 442.293
          346.225V346.901C442.293 347.559 442.213 347.89 442.128 348.245C442.062
          348.519 441.993 348.806 441.955 349.265H442.967C443.218 349.265
          443.463 349.27 443.704 349.279C443.235 349.678 442.807 350.095 442.396
          350.494C441.619 351.251 440.901 351.95 440.076 352.365C436.041 356.247
          436.002 356.902 435.895 358.732C435.802 360.301 435.659 362.735 432.9
          368.811C431.207 372.54 432.661 374.69 437.024 379.516C440.264 381.149
          439.686 386.257 437.975 389.09C435.908 392.513 436.881 394.937 437.682
          396.931C437.907 397.493 438.119 398.021 438.246 398.528C438.646
          399.608 439.821 403.001 439.875 408.644C433.504 406.255 425.998
          406.066 425.075 408.638C423.988 411.669 420.759 413.136 417.178
          414.762C416.348 415.139 415.498 415.524 414.653 415.94C413.692 416.412
          412.399 415.971 411.117 415.533C409.135 414.858 407.18 414.191 406.522
          416.916C406.049 418.878 405.011 421.973 401.966 421.529C400.719
          421.347 400.23 422.136 399.661 423.053C399.286 423.658 398.877 424.317
          398.194 424.792C396.077 426.265 393.898 428.928 391.887
          431.386C388.641 435.353 385.832 438.786 384.426 435.816C381.069
          428.725 380.904 428.708 379.333 428.544C378.544 428.461 377.4 428.341
          375.317 427.267C370.981 425.031 368.443 425.596 366.605
          426.005C364.555 426.461 363.375 426.724 361.54 422.686C361.161 422.5
          360.759 422.316 360.344 422.127C356.91 420.559 352.682 418.63 354.894
          411.892C356.824 406.011 343.23 410.784 343.253 411.589C343.428 417.545
          338.061 416.994 334.381 416.463C331.161 415.999 331.268 413.675
          331.505 408.513C331.626 405.853 331.783 402.44 331.537 398.141C331.236
          392.882 329.603 390.962 328.14 389.75C325.157 387.28 323.106 383.61
          321.142 380.097C320.16 378.34 319.2 376.622 318.156 375.113C316.573
          372.825 314.723 370.287 307.609 369.636C307.703 369.138 307.794
          368.655 307.882 368.186C309.472 359.694 310.217 355.717 318.998
          351.623C320.546 341.615 322.439 340.392 325.571 338.367C326.845
          337.544 328.323 336.589 330.065 334.858C335.796 326.07 343.682 322.343
          349.094 322.297C353.163 322.263 356.412 322.734 359.882
          323.238C362.797 323.661 365.869 324.107 369.715 324.294C371.038
          324.178 372.951 323.638 375.206 323.002C379.202 321.875 384.268
          320.445 389.007 320.535C390.583 320.439 392.215 318.949 393.972
          317.346C394.74 316.645 395.532 315.922 396.353 315.284C398.454 313.654
          401.209 313.07 403.943 312.604C404.405 312.525 404.834 312.449 405.237
          312.377C409.383 311.635 410.665 311.406 415.641 314.772C415.972 318.42
          422.317 319.483 426.835 320.241C426.857 320.244 426.879 320.248
          426.901 320.252C428.159 320.542 429.437 320.769 430.715 320.955Z"
              fill="#E2F1FF"
            />
            <path
              :ref="districts.syunik.name"
              :data-name="districts.syunik.name"
              :id="districts.syunik.name"
              :class="{
                active: isArea(districts.syunik.name),
                hover: !animationOn,
              }"
              d="M578.99 514.91V515.81C578.99 517.317 578.416 517.669 577.774 518.062C577.474 518.246 577.158 518.439 576.879 518.765C576.115 519.658 576.271 520.483 576.451 521.436C576.536 521.889 576.628 522.372 576.628 522.904C576.628 524.907 575.357 525.769 574.46 526.379C573.969 526.711 573.59 526.969 573.59 527.296C573.59 528.312 573.843 528.986 574.096 529.66C574.349 530.335 574.602 531.009 574.602 532.025C574.602 533.94 573.685 534.429 572.727 534.939C572.188 535.226 571.636 535.52 571.227 536.079C571.579 536.605 572.286 537.415 573.1 538.349C575.001 540.528 577.489 543.381 577.434 544.875L576.628 552.294C576.722 552.286 576.822 552.271 576.926 552.25C576.603 553.063 576.274 553.76 575.948 554.322C575.891 554.325 575.822 554.329 575.74 554.334C574.168 554.426 568.244 554.774 567 552.882C564.552 549.158 563.628 549.402 562.431 549.717C561.704 549.908 560.877 550.126 559.545 549.496C559.171 549.319 558.841 549.158 558.544 549.013C556.502 548.015 556.057 547.798 554.154 548.75C551.164 549.854 548.877 549.947 547.546 548.663C547.214 548.344 546.987 548.094 546.802 547.889L546.801 547.888C546.254 547.285 546.061 547.072 544.579 546.619L541.928 545.81L540.365 544.795C538.992 543.903 538.644 543.934 537.291 544.832C534.73 546.53 532.881 547.74 531.512 546.634C530.361 546.526 530.246 546.598 529.281 547.201L529.267 547.21C527.361 548.402 525.375 549.356 523.349 550.192C521.612 552.421 519.723 553.943 517.666 554.68C517.392 554.778 517.161 554.853 516.96 554.919C516.146 555.185 515.803 555.298 514.953 556.127C513.115 557.923 511.721 558.118 509.273 558.084C508.855 558.078 508.634 558.292 508.336 558.581C507.842 559.06 507.135 559.746 504.958 559.98C504.3 560.051 503.868 559.917 503.435 559.782C503.179 559.703 502.922 559.623 502.618 559.585C502.198 553.193 500.247 542.75 498.113 538.656C495.504 533.651 495.063 532.638 495.637 527.609C495.637 524.103 494.982 522.326 493.347 520.952C489.371 517.608 489.377 515.439 489.383 513.301C489.389 510.928 489.396 508.594 483.963 504.736C480.597 502.346 480.852 500.37 481.107 498.388C481.292 496.95 481.478 495.509 480.284 493.903C479.062 492.571 479.124 491.167 479.191 489.667C479.27 487.906 479.354 486.014 477.373 483.956C475.094 481.588 474.568 479.513 475.35 476.673C475.87 474.784 475.727 473.825 475.601 472.983C475.434 471.867 475.297 470.958 476.78 468.363C478.789 464.847 480.161 459.648 474.803 458.596C470.797 458.438 469.161 456.961 467.681 455.626C466.513 454.571 465.442 453.605 463.379 453.445C460.747 452.982 458.846 451.244 456.985 449.541C455.042 447.764 453.141 446.026 450.497 445.818C442.082 444.473 442.088 442.763 443.702 435.48C444.339 432.607 446.052 429.84 447.605 427.33C450.217 423.11 452.379 419.615 448.232 417.563C445.81 416.365 445.923 416.257 446.474 415.731C447.151 415.085 448.488 413.809 446.601 409.108C446.702 408.951 446.576 408.998 446.267 409.114C445.364 409.452 442.895 410.375 439.875 408.555C439.81 402.965 438.645 399.603 438.247 398.528C438.12 398.021 437.908 397.493 437.683 396.931C436.882 394.937 435.908 392.514 437.976 389.09C439.687 386.257 440.265 381.149 437.025 379.516C432.662 374.69 431.208 372.54 432.9 368.812C435.66 362.735 435.803 360.301 435.895 358.732C436.003 356.902 436.042 356.247 440.076 352.365C440.902 351.95 441.619 351.251 442.397 350.495C442.808 350.095 443.235 349.679 443.705 349.279C448.432 349.459 451.247 351.354 453.832 353.094C455.917 354.497 457.852 355.799 460.519 356.022C460.519 356.022 460.519 356.023 460.519 356.024L467.269 356.023C469.213 355.869 473.607 360.757 476.218 363.661C476.896 364.415 477.453 365.034 477.817 365.398C478.821 366.403 479.677 367.343 480.536 368.285C481.235 369.052 481.935 369.82 482.718 370.627C484.865 372.839 485.158 374.149 485.158 378.319C485.573 378.938 486.575 380.346 487.521 380.346H487.858C488.365 380.346 488.787 380.008 489.209 379.67C489.63 379.332 490.052 378.995 490.559 378.995H491.909C493.523 378.995 494.687 380.965 495.783 382.82C496.509 384.05 497.206 385.229 497.984 385.751C498.906 385.751 499.551 385.628 500.07 385.529C501.181 385.317 501.713 385.215 503.143 386.669C503.443 386.975 505.839 390.127 506.067 390.453C506.073 390.487 506.079 390.521 506.084 390.554C506.073 391.239 505.91 391.535 505.747 391.831C505.578 392.138 505.41 392.445 505.41 393.183C505.41 394.182 505.759 394.646 506.149 395.163C506.408 395.506 506.684 395.872 506.887 396.434C507.241 397.407 507.184 398.777 507.132 400.042C507.115 400.478 507.097 400.9 507.097 401.29C509.144 398.934 511.954 398.761 514.714 398.592C517.609 398.415 520.448 398.241 522.293 395.555C524.307 392.625 531.39 388.116 536.125 388.116H539.5C541.604 388.116 541.921 389.378 542.257 390.715C542.487 391.629 542.725 392.578 543.55 393.183C544.084 392.791 544.384 392.111 544.689 391.419C545.185 390.29 545.697 389.129 547.263 389.129C548.891 389.129 550.301 394.653 550.301 395.885C550.301 397.038 549.345 398.466 548.872 399.173C548.716 399.406 548.613 399.56 548.613 399.601C548.613 400.409 548.934 401.014 549.276 401.659C549.538 402.152 549.812 402.669 549.963 403.318L550.614 403.311L551.313 400.615C551.704 400.521 551.876 400.445 552.003 400.389C552.169 400.316 552.258 400.277 552.663 400.277C553.881 400.277 554.422 400.844 554.802 401.244C555.009 401.461 555.168 401.628 555.364 401.628C556.206 401.628 557.224 401.101 558.361 400.512C559.798 399.768 561.425 398.926 563.127 398.926C565.122 398.926 565.967 399.313 567.044 399.805C567.383 399.96 567.745 400.126 568.173 400.293C569.118 400.663 569.947 400.639 570.763 400.615C571.776 400.586 572.768 400.557 573.934 401.284C575.442 402.223 579.328 406.975 579.328 409.06C579.328 410.021 578.653 411.425 577.978 411.425C577.498 411.425 576.914 411.111 576.251 410.754C575.374 410.283 574.357 409.736 573.252 409.736C572.203 409.736 571.729 410.55 571.173 411.502C570.39 412.846 569.446 414.465 566.502 414.465C566.38 414.648 566.27 414.774 566.176 414.882C565.958 415.135 565.827 415.286 565.827 415.817V416.154C565.827 418.935 568.004 420.585 569.886 422.012C571.317 423.097 572.577 424.052 572.577 425.275C572.577 426.381 571.309 427.64 569.877 427.64C568.152 427.64 566.734 426.185 565.368 424.782C564.509 423.9 563.671 423.04 562.789 422.573C561.764 423.26 561.269 425.158 560.763 427.103C560.087 429.695 559.391 432.369 557.388 432.369C555.876 432.369 554.616 432.044 553.331 431.713C551.999 431.369 550.641 431.018 548.95 431.018H547.263C546.515 431.018 544.9 432.734 544.9 433.045C544.9 434.158 545.317 434.844 545.774 435.595C546.323 436.498 546.93 437.496 546.935 439.445L548.276 440.139V445.207C548.882 446.113 549.407 446.789 549.898 447.423C550.841 448.639 551.663 449.697 552.705 451.921C552.902 452.342 558.104 457.706 558.401 457.706H561.439C561.832 456.232 563.259 453.652 565.152 453.652C567.618 453.652 573.59 460.312 573.59 462.773C573.59 463.564 573.03 464.124 572.24 464.124H570.89V465.475C570.89 467.881 573.454 471.953 575.683 472.501C576.188 472.626 576.591 472.718 576.932 472.796C578.23 473.094 578.619 473.183 580.241 474.02C581.738 474.793 581.717 475.768 581.701 476.511C581.687 477.163 581.677 477.637 582.703 477.637H583.378C584.456 477.637 585.099 477.468 585.741 477.299C586.383 477.13 587.025 476.961 588.103 476.961H590.128C590.906 476.961 591.141 477.196 591.141 477.975V478.312C591.141 480.991 585.282 482.028 582.028 482.028L580.662 482.025L580.34 484.055C581.239 484.075 583.04 484.307 583.04 485.069C583.04 486.093 582.156 486.433 581.259 486.777C580.627 487.02 579.988 487.265 579.648 487.754C579.265 488.306 579.107 488.752 578.975 489.124C578.698 489.908 578.535 490.367 576.628 490.812C576.666 491.271 576.735 491.558 576.8 491.831C576.885 492.186 576.965 492.518 576.965 493.176V493.852C576.965 494.69 576.035 495.203 575.615 495.203C573.588 495.203 573.366 493.306 573.109 491.107C572.811 488.558 572.465 485.603 569.202 484.731V487.096C569.202 487.998 569.354 488.448 569.514 488.922C569.657 489.345 569.806 489.787 569.86 490.587L566.677 488.46L557.613 488.805L558.401 494.865H560.764C561.966 494.865 562.087 496.021 562.114 497.23C562.169 497.193 562.233 497.15 562.303 497.101C562.896 496.697 563.98 495.957 564.704 495.884C564.734 495.944 564.764 496.006 564.794 496.069C564.745 496.707 564.91 497.059 565.078 497.417C565.23 497.742 565.384 498.072 565.384 498.623C565.384 499.016 565.335 499.287 565.282 499.58C565.22 499.926 565.152 500.303 565.152 500.946C565.152 501.699 566.172 501.663 567.044 501.633C567.209 501.627 567.368 501.622 567.514 501.622C569.471 502.933 569.675 504.35 569.827 505.412C569.945 506.237 570.033 506.847 570.89 507.026C572.648 507.392 576.29 508.632 576.29 510.405V510.743C576.29 511.751 575.628 511.912 574.89 512.092C573.981 512.313 572.957 512.563 572.915 514.459H577.303C577.908 514.459 578.12 514.53 578.416 514.629C578.56 514.678 578.724 514.733 578.962 514.79C578.972 514.83 578.981 514.87 578.99 514.91Z"
              fill="#F1F8FF"
            />
            <path
              id="outer"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M377.146 167.396C373.661 168.469 372.588 169.543 373.929 172.494C375.269 175.446 380.096 180.008 381.704 177.325C383.313 174.641 386.262 170.884 384.922 169.543C383.581 168.201 377.146 167.396 377.146 167.396Z"
              fill="#F1F8FF"
            />
            <path
              id="sevan_lake"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M328.049
          264.996C328.03 264.88 328.014 264.756 328.004 264.62C327.744 261.327
          325.371 256.285 325.598 252.554C325.717 250.59 325.034 249.61 324.732
          248.018C324.603 247.337 324.544 246.543 324.647 245.512C324.87 243.297
          323.261 242.403 324.305 239.072C325.314 235.852 322.754 232.673
          324.522 228.156C326.023 224.323 322.312 217.44 323.433 210.625C323.688
          209.068 324.146 206.618 319.929 209.43C316.19 211.924 314.616 208.416
          312.329 210.166C311.404 210.874 310.071 209.683 308.988 210.109C306.99
          210.894 305.846 209.18 304.678 209.06C303.924 208.982 303.47 208.936
          303.256 208.746C303.224 208.716 303.196 208.683 303.174
          208.646C302.987 208.327 303.209 207.701 303.698 206.351C304.403
          204.406 304.1 201.686 299.719 201.342C295.294 200.995 296.69 196.921
          294.804 196.94C293.573 196.953 292.697 195.179 293.547 194.175C294.725
          192.784 292.79 192.33 293.761 190.425C294.736 188.509 293.025 190.019
          292.378 188.04C292.138 187.308 290.016 186.938 289.8 188.002C289.45
          189.719 287.241 187.223 285.661 189.63C284.333 191.653 284.835 188.83
          282.241 189.932C280.492 190.675 280.042 188.943 278.6 189.601C278.288
          189.744 277.935 189.779 277.575 189.735C277.322 189.704 277.065
          189.634 276.816 189.534C275.361 188.955 274.195 187.377 275.71
          186.82C276.223 186.632 275.588 184.855 276.988 184.442C277.532 184.282
          278.382 184.327 279.726 184.75C281.471 185.3 280.033 183.791 282.537
          183.323C285.028 181.411 279.369 182.159 281.334 180.911C283.992
          179.222 281.419 176.616 284.484 177.658C287.478 178.675 287.98 176.604
          284.881 176.142C282.386 175.771 284.877 173.01 282.174 173.15C280.251
          173.249 279.062 170.117 277.968 169.023C276.952 168.007 279.902
          166.731 280.394 165.214C280.48 164.949 280.585 164.646 280.712
          164.334C281.401 162.642 282.728 160.696 285.113 163.185C287.351
          165.521 289.665 165.601 292.39 165.951C292.733 165.995 293.083 166.044
          293.44 166.102C295.229 166.392 297.024 167.56 299.792 168.255C301.204
          168.61 302.232 169.49 303.32 170.445C304.361 171.36 305.457 172.344
          306.998 173.005C309.527 174.089 309.93 176.839 312.481 176.456C316.734
          175.817 316.551 179.585 320.498 180.437C320.593 180.458 320.682
          180.486 320.766 180.52C321.019 180.625 321.218 180.792 321.383
          181C322.257 182.101 322.171 184.375 323.863 184.979C326.646 185.974
          327.54 188.489 328.655 190.293C329.191 191.16 329.778 191.863 330.651
          192.154C332.721 192.844 333.944 196.052 332.933 197.817C329.154
          204.408 337.18 197.351 340.547 202.518C343.038 206.339 349.915 205.036
          348.723 201.864C348.569 201.454 348.38 201.244 348.168 201.138C347.297
          200.704 346.055 202.069 345.381 198.708C345.061 197.111 344.128
          194.765 350.444 197.006C350.5 197.026 350.555 197.046 350.609
          197.067C352.41 197.77 353.22 199.163 354.831 199.685C355.956 200.049
          356.72 200.392 357.253 200.738C357.509 200.904 357.711 201.07 357.874
          201.241C358.048 201.422 358.177 201.608 358.28 201.802C358.755 202.692
          358.662 203.749 359.666 205.31C361.286 207.831 362.014 208.964 364.706
          211.587C367.221 214.037 366.818 219.049 371.568 220.248C376.118
          221.397 376.941 224.118 382.131 224.857C382.598 224.923 382.982
          225.048 383.311 225.224C383.594 225.374 383.836 225.562 384.055
          225.781C385.434 227.159 385.908 229.789 389.816 232.331C390.533
          232.798 391.124 233.327 391.647 233.88C392.864 235.168 393.712 236.584
          394.934 237.634C396.462 238.95 397.411 240.566 397.985 242.577C398.245
          243.489 398.428 244.482 398.553 245.566C398.846 248.117 399.928
          251.165 399.507 253.91C399.251 255.582 400.523 256.103 399.998
          257.912C399.897 258.26 399.728 258.657 399.47 259.119C397.962 261.808
          396.425 263.701 394.371 265.004C392.764 266.023 390.839 266.682
          388.365 267.078C386.643 267.353 385.698 267.683 384.13 267.229C381.592
          266.494 380.79 268.541 379.617 269.247C379.596 269.26 379.575 269.272
          379.555 269.285C376.048 271.364 372.831 270.625 371.02 268.506C369.468
          266.689 366.668 264.25 366.678 266.018C364.339 267.687 363.854 266.437
          360.768 271.148C360.763 271.156 360.758 271.163 360.752
          271.171C360.453 271.592 359.8 271.491 358.902 271.672C358.389 271.775
          357.796 271.969 357.142 272.404C355.102 273.761 352.408 273.894
          350.537 273.591C350.204 273.537 349.897 273.469 349.624
          273.392C348.418 273.05 347.353 273.167 346.394 273.379C344.652 273.765
          343.262 274.469 342.013 273.319C340.108 271.564 337.677 273.642
          336.331 271.296C334.719 268.486 333.772 268.838 333.116
          268.333C332.813 268.099 332.573 267.683 332.358 266.687C331.964
          264.866 329.113 267.447 328.24 265.633C328.184 265.516 328.136 265.381
          328.097 265.226C328.079 265.154 328.063 265.078 328.049
          264.996V264.996Z"
              fill="#8DD6FF"
            />
          </g>
          <circle
            v-for="(item, index) in datasetCard"
            :key="`c-${index}`"
            :data-key="item.name_en"
            ref="circles"
            :cx="item.x_svg"
            :cy="item.y_svg"
            r="1"
          />
        </svg>
      </div>
    </div>
  </div>
</template>

<script>
import MapCardCity from "./MapCardCity.vue";
import MapMenu from "./MapMenu.vue";
import { mapGetters } from "vuex";

export default {
  components: {
    MapCardCity,
    MapMenu,
  },
  props: {
    /**
     * Массив с данными для отображения карточек на карте.
     * Получен через пропсы.
     */
    datasetCard: {
      type: Array,
      required: true,
    },
  },
  data() {
    return {
      /**
       * Значение активной кнопки с погодным параметром.
       */
      selectedIndicator: "temp",
      /**
       * Значение активной кнопки с маркером дня.
       */
      selectedDayMarker: "now",
      /**
       * Содержит данные выбранной области на карте и значения viewBox карты
       * для анимации выбранной территории.
       */
      selectedDistrict: {
        name: "",
        from: "0 0 720 568;",
        to: "0 0 720 568;",
      },
      /**
       * Содержит позицию карты относительно viewport.
       */
      coordMap: {
        left: 0,
        top: 0,
      },
      /**
       * Определяет происходит ли анимация карты в данный момент. Во время анимации
       * скрываем карточки.
       */
      animationOn: false,
      /**
       * Объект содержит значение viewbox для выбранной области на
       * карте. Нужно для анимации карты.
       */
      districts: {
        home: {
          viewbox: "-69 0 720 568;",
          name: "home",
        },
        shirak: {
          viewbox: "-65 11 278 220;",
          name: "shirak",
        },
        ararat: {
          viewbox: "143 263 188 148;",
          name: "ararat",
        },
        lori: {
          viewbox: "86 4 211 167;",
          name: "lori",
        },
        kotayk: {
          viewbox: "120 131 237 187;",
          name: "kotayk",
        },
        aragatsotn: {
          viewbox: "14 116 221 174;",
          name: "aragatsotn",
        },
        tavush: {
          viewbox: "195 -9 248 195;",
          name: "tavush",
        },
        armavir: {
          viewbox: "27 213 174 137;",
          name: "armavir",
        },
        gegharkunik: {
          viewbox: "199 122 322 254;",
          name: "gegharkunik",
        },
        "vayots dzor": {
          viewbox: "279 299 192 152;",
          name: "vayots dzor",
        },
        syunik: {
          viewbox: "350 327 324 256;",
          name: "syunik",
        },
      },
    };
  },
  mounted() {
    /**
     * Задаем первоначальное значение выбранного района для того, чтобы запустить
     * функцию пересчета координат карточек.
     */
    this.selectedDistrict.name = "home";
    /**
     * Добавляем слушатель срабатывающий при окончании анимации карты.
     */
    this.$refs.animate.addEventListener("endEvent", this.animateHandler);
  },
  beforeDestroy() {
    /**
     * Перед уничтожением компоненты удаляем слушатель срабатывающий при
     * окончании анимации карты.
     */
    this.$refs.animate.removeEventListener("endEvent", this.animateHandler);
  },
  computed: {
    ...mapGetters(["getConstantLocale"]),
    /**
     * Фильтруем данные для отображения на карточках по выбранному
     * району.
     */
    districtFilteredData() {
      return this.datasetCard.filter((f) =>
        this.selectedDistrict.name === "home"
          ? f.home === true
          : f.area_en?.slice(0, -9).toLowerCase() === this.selectedDistrict.name
      );
    },
    /**
     * Фильтруем данные для отображения на карточках с учетом выбранного
     * маркера дня.
     */
    dayMarkerFilteredData() {
      const dayMarker = this.selectedDayMarker ?? "now";
      return this.districtFilteredData.map(
        ({
          home,
          area_en,
          name_en,
          name_loc_choice,
          x_svg,
          y_svg,
          [dayMarker]: marker,
        }) => {
          return {
            home,
            area_en,
            name_en,
            name_loc_choice,
            x_svg,
            y_svg,
            ...marker,
          };
        }
      );
    },
    /**
     * Возвращает данные для карточек с учетом примененных фильтров и
     * выбранной области на карте.
     */
    finalDatasets() {
      let count = 50;
      return this.dayMarkerFilteredData.map((obj) => {
        return {
          ...obj,
          /**
           * Свойство содержит значение времени задержки начала анимации
           * появления карточек на карте.
           */
          delay: `${(count = count + 65)}ms`,
        };
      });
    },
  },
  methods: {
    /**
     * Обработчик клика из дочернего компонента, в котором находятся
     * кнопки отвечающие за отображение различной информации на карточках.
     * @param item значение маркера дня.
     */
    selectDayMarker(item) {
      this.selectedDayMarker = item;
    },
    /**
     * Определяет условие наличия CSS-класса active, который отвечает за
     * стили выделенного района на карте.
     * @param area название области на английском.
     */
    isArea(area) {
      return area === this.selectedDistrict.name;
    },
    /**
     * Обработчик клика из дочернего компонента, в котором находятся
     * кнопки отвечающие за отображение различной информации на карточках.
     * @param item значение погодного параметра.
     */
    selectIndicator(item) {
      this.selectedIndicator = item;
    },
    /**
     * callback-функция обработчика события окончания анимации карты.
     */
    animateHandler() {
      this.animationOn = false;
    },
    /**
     * Определяем и записываем позицию относительно viewport
     * контейнера с картой.
     */
    mapRectPosition() {
      const getPoint = (element, coord) => {
        return this.$refs[element]
          ? Math.round(this.$refs[element].getBoundingClientRect()[coord])
          : 0;
      };
      this.coordMap.left = getPoint("layer", "left");
      this.coordMap.top = getPoint("layer", "top");
    },
    /**
     * Вычисляем и обновляем позицию карточек с информацией относительно
     * контейнера с картой по выбранному району. А также устанавливаем значение
     * длительности задержки появления карточек.
     */
    calcDinamicPos(item) {
      this.mapRectPosition();
      const { circles } = this.$refs;
      if (circles) {
        const circle = circles.find(
          (elem) => elem.dataset.key === item.name_en
        );
        const { left, top } = circle.getBoundingClientRect();
        return {
          left: `${(left - this.coordMap.left).toFixed(0)}px`,
          top: `${(top - this.coordMap.top).toFixed(0)}px`,
          animationDelay:
            this.selectedDistrict.name !== "home" ? item.delay : "0s",
        };
      } else {
        return undefined;
      }
    },
    /**
     * Колбэк-функция вызывается при клике на карту.
     * @param id уникальный идентификатор (ID) установленный элементу path,
     * по которому кликнули.
     */
    districtShow(id) {
      /**
       * Если пользователь кликает на область на карте, которая уже была
       * выбрана ранее или происходит анимация карты, то выходим из функции.
       */
      if (
        !(id in this.districts) ||
        this.selectedDistrict.name === id ||
        this.animationOn
      )
        return;
      /**
       * Если пользователь кликает на область на карте, которая не была
       * выбрана ранее, то обновляем необходимые состояния компаненты и
       * запускаем анимацию карты.
       */
      this.animationOn = true;
      this.selectedDistrict = {
        name: id,
        from: this.selectedDistrict.to,
        to: this.districts[id].viewbox,
      };
      this.$refs.animate.beginElement();
    },
    /**
     * Функция отвечает за запуск анимации появления карточек:
     * - если выбран район, то анимируем появление карточек с задержкой,
     * - если выбрана общая карта, то задержку анимации отключаем.
     * @param delay время задержки начала анимации появления карточки.
     */
    animeDelay({ delay }) {
      return this.selectedDistrict.name !== "home" ? delay : "0s";
    },
    /**
     * Вычисление нового viewBox района для анимации.
     */
    calcNewViewBox(name) {
      const widthSVG = 720;
      const heightSVG = 568;
      const widthWin = 600;
      const heightWin = 468;
      let k = 1;
      let xNew = 0;
      let yNew = 0;
      const calcPosition = (coordinate, valueSVG, valueClient) =>
        coordinate - valueSVG / k / 2 + valueClient / 2;
      const { x, y, width, height } = this.$refs[name].getBBox();
      const { a } = this.$refs[name].getScreenCTM();
      console.log(a);
      if (width - 20 >= height) {
        k = widthWin / width;
        xNew = x - ((widthSVG - widthWin) / 2) * k;
        yNew = calcPosition(y, heightSVG, height);
      } else {
        k = heightWin / height;
        yNew = y - ((heightSVG - heightWin) / 2) * k;
        xNew = calcPosition(x, widthSVG, width);
      }
      console.log(x, y, width, height, k);
      const widthNew = widthSVG / k;
      const heightNew = heightSVG / k;

      console.log(
        `${name} ${Math.round(xNew)} ${Math.round(yNew)} ${Math.round(
          widthNew
        )} ${Math.round(heightNew)};`
      );
    },
    /**
     * Возвращает массив содержащий подписи и ключи для кнопок маркеров дня.
     * Пример: Сейчас, Завтра и тд.
     */
    showDayMarkers() {
      return [0, 3, 4].map((e) => this.getConstantLocale("timeMarker")[e]);
    },
    /**
     * Возвращает массив содержащий подписи и ключи для кнопок с
     * погодными параметрами строковыми константы с учетом локали.
     */
    showIndicators() {
      return ["temp", "wind"].map((e) => [
        e,
        this.getConstantLocale("climateIndicators", e),
      ]);
    },
  },
};
</script>

<style lang="scss" scoped>
@keyframes appear {
  0% {
    opacity: 0;
    visibility: hidden;
  }
  100% {
    opacity: 1;
    visibility: visible;
  }
}
.html-card {
  animation-name: appear;
  animation-duration: 50ms;
  animation-timing-function: ease;
  animation-fill-mode: backwards;
  position: absolute;
  width: 72px;
  height: 59px;
  box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.11);
  border-radius: 3px;
  transition: 200ms box-shadow ease-in-out;
  &:hover {
    box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.31);
  }
}
.hide {
  opacity: 0;
  visibility: hidden;
  display: none;
}
.map-container {
  position: relative;
  // min-width: 750px;
  min-height: 655px;
  background: #ffffff;
  border: 1px solid #d8e9f3;
  margin: 14px;
  & .navigation {
    display: flex;
    justify-content: space-between;
    padding: 18px 30px 0 30px;
  }
}
.map-wrapper {
  overflow: auto;
  height: 620px;
}
.map-layer {
  position: relative;
  width: 100%;
  height: 100%;
  width: 720px;
  height: 568px;
  margin: 0 auto;
  margin-top: 16px;
  & svg {
    display: block;
    width: 100%;
    height: 100%;
    & path {
      transition: 300ms all ease-in-out;
      &.hover:hover:not(#sevan_lake):not(.active) {
        fill: #04569c;
        cursor: pointer;
      }
      &.active {
        fill: #b2d3e8;
      }
    }
    & > g {
      filter: drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.2));
    }
  }
}
@media only screen and (max-width: $media-width-lg) {
  .map-container {
    margin: 14px 5px;
    & .navigation {
      padding: 18px 16px 0 16px;
    }
  }
}
</style>
